<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body {
            padding: 20px;
        }

        .selectOptBtn {
            padding: 5px 15px;
            font-size: 16px;
            font-weight: 600;
            color: rgb(113, 113, 113);
            background-color: white;
            border: none;
            border-bottom: 1px solid rgb(127, 127, 127);
            position: relative;
        }

        .opt {
            text-decoration: none;
            border-bottom: 1px solid black;
            padding: 10px 20px;
            width: max-content;
            color: black;
        }

        .opt:hover{
            background-color: rgb(39, 245, 245);
        }

        .opt:active{
            background-color: rgb(39, 226, 226);
            color: black;
        }

        .selectOptContainer {
            position: absolute;
            display: flex;
            flex-direction: column;
            border: 1px solid black;
            top: 110%;
            left: 0;
            overflow: hidden;
            transition: transform 0.3s ease-in ;
            transform-origin: 0 0;
        }

        .addOption{
            transform: scaleY(0) !important;
        }
    </style>
</head>

<body>
    <button class="selectOptBtn" onclick="openOption()">
        <div class="selected" id="selected">Select a option</div>
        <div class="selectOptContainer addOption" id="selectOptContainer">
            <span onclick="select(this)" value="" class="opt">Select a option</span>
            <span onclick="select(this)" value="Option 1" class="opt">Option 1</span>
            <span onclick="select(this)" value="Option 2" class="opt">Option 2</span>
            <span onclick="select(this)" value="Option 3" class="opt">Option 3</span>
        </div>
    </button>
    <input type="hidden" name="selectedOption" id="selectedOption">
    <script>
        // Get all elements with the same class
        const elements = document.querySelectorAll('.opt');

        // Get the maximum width among all elements
        let maxWidth = 0;
        elements.forEach(element => {
            const width = element.offsetWidth;
            if (width > maxWidth) {
                maxWidth = width;
            }
        });

        
        // Set the width of all elements to the maximum width
        elements.forEach((element,i) => {
            element.style.width = maxWidth + 'px';
            if (i == elements.length - 1) {
                element.style.border = 'none';
            }
        });

        const openOption = () => {
            const options = document.getElementById("selectOptContainer");
            options.classList.toggle("addOption")
        }

        const select = (e) => {
            let text = e.innerText;
            let value = e.getAttribute('value');
            document.getElementById('selected').innerText = text;
            document.getElementById('selectedOption').value = value;
        } 

    </script>
</body>

</html>