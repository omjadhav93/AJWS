extends base.pug 
block metaElements
    meta(name="robots" content="INDEX, FOLLOW")
block style 
    include ../static/css/order.css 
block title 
    title AJ-Kart | Order 
block content 
    .cancle-order
        .cancle-order-btn(onclick=`window.location.href = "/product?modelNo=${item['model-number']}"`)
            .exit-icon 
                <ion-icon name="exit-outline"></ion-icon>
            .exit-text Cancle Order
    form(action="", method="post").form-container  
        .address-section 
            p.shipping-heading Shipping
            .input
                input.input-element(type="text", name="name", id="name", required="required", value=`${user?user.name:''}`)
                label.input-label(for="name") Receiver's Name
            .input
                input.input-element(type="text", name="address-1", id="address-1", required="required", value=`${user && user.address.length?user.address[0].add:''}`)
                label.input-label(for="address-1") Address Line 1
            .input
                input.input-element(type="text", name="address-2", id="address-2")
                label.input-label(for="address-2") Address Line 2 (Optional)
            .input-split
                button.selectOptBtn#category(type="button",onclick='openOption(this)')
                    #selected.selected Select State
                    <ion-icon name="arrow-forward-outline"></ion-icon>
                    #selectOptContainer.selectOptContainer.addOption
                        span.opt(onclick='select(this)', value="Maharastra") Maharastra
                input#selectedOption(type='hidden', name='state',required="required")
                button.selectOptBtn#category(type="button",onclick='openOption(this)')
                    #selected.selected Select District
                    <ion-icon name="arrow-forward-outline"></ion-icon>
                    #selectOptContainer.selectOptContainer.addOption
                        span.opt(onclick='select(this)', value="Ahmednagar") Ahmednagar
                        span.opt(onclick='select(this)', value="Aurangabad") Sambhajinagar
                        span.opt(onclick='select(this)', value="Mumbai") Mumbai
                        span.opt(onclick='select(this)', value="Pune") Pune
                        span.opt(onclick='select(this)', value="Thane") Thane
                input#selectedOption(type='hidden', name='district',required="required")
            .input-split  
                .input
                    input.input-element(type="number", name="pincode", id="pincode", required="required", value=`${user && user.address.length?user.address[0].pin:''}`)
                    label.input-label(for="pincode") Pin-Code
                .input
                    input.input-element(type="number", name="pincode", id="pincode", required="required", value=`${user?user.phone:''}`)
                    label.input-label(for="pincode") Mobile Number
            .input(style="display:flex;margin-top:25px;padding-left: 10px;align-items: center;")
                input(type="checkbox", name="save-address", id="save-address", style="ascent-color: blue; margin-right: 10px;cursor: pointer;width: 15px;height: 15px;") 
                label(for="save-address", style="font-size: 15px") Save address for future
        .product-summary
            .image-section 
                each img in item.image
                    each obj in img
                        each name,i in obj
                            if name.includes(`${color}-image`) && i == 0
                                img.image-preview(src=`../static/productImg/${name}`, alt="")
            .details-section 
                .spec 
                    .spec-head Model Name
                    .spec-tail #{item['model-name']}
                .spec 
                    .spec-head Brand Name
                    .spec-tail #{item['brand-name']}
                .spec 
                    .spec-head Colour
                    .spec-tail #{color} 
                .spec
                    .spec-head Quantity
                    .spec-tail(style="display:flex;flex-direction:row;column-gap:10px;align-item: center") 
                        <ion-icon name="remove-circle" style="font-size: 17px;cursor: pointer;" onclick="quantity(-1)"></ion-icon>
                        input#quantity(type="number",name="quantity",value='1',style="display:inline-block;width:15px;text-align: center;border:none;outline:none;pointer-events: none;")
                        <ion-icon name="add-circle" style="font-size: 17px;cursor: pointer;" onclick="quantity(1)"></ion-icon>
            -var price = item.originalPrice
            -var disPrice = (item.originalPrice*item.discount)/100
            .price-section 
                .price-head Price Details 
                .price-box 
                    .price-detail 
                        .price-detail-head Price
                        .price-detail-tail &#x20B9 #{price}
                    .price-detail 
                        .price-detail-head Discount
                        .price-detail-tail(style="color:red") - &#x20B9 #{disPrice}
                    .price-detail 
                        .price-detail-head Delivery Charges
                        .price-detail-tail(style="color:red") Free Delivery
            .total-amount 
                .total-amount-head Total Amount
                .total-amount-tail &#x20B9 #{price-disPrice}
                input(type="hidden", name="Amount", value=`${price-disPrice}`)
            .submit-section 
                button.submit-btn(type="submit") Countinue & Pay


block scripts 
    script(src="../static/js/order.js") 